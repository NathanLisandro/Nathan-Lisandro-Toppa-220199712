<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="pokemon.css">
</head>
<body>
    <header id="header">
        <h1 id="pokemonName">Teste</h1>
    </header>
   <main>
        <section>
            <img src="" alt="">
        </section>
   </main>
   <footer aria-label="Rodapé">
    <p aria-label="Copyright">
        &copy; 2024 Página do Pokémon Squirtle. Todos os direitos reservados.
    </p>
    <p><a href="#header">Voltar para o topo</a></p>
    <p><a href="mailto:contato@squirtlepage.com">Contato via e-mail</a></p>
    <p><a href="tel:+5555555555">Telefone: (55) 5555-5555</a></p>
</footer>   
</body>

<script>
    executaApi();
    async function executaApi() {
    const urlParams = new URLSearchParams(window.location.search);
    const valorDoParametro = urlParams.get('pokemon');
    console.log(valorDoParametro);
    const imagem = document.querySelector('img');
    if(valorDoParametro == 'wartortle'){
        document.getElementById('pokemonName').innerHTML = 'Squirtle'
    } else if(valorDoParametro == 'blastoise '){
    document.getElementById('pokemonName').innerHTML = 'blastoise'
    } else if(valorDoParametro == 'Squirtle'){
        document.getElementById('pokemonName').innerHTML = 'Wartortle'

    }

    try {
        const response = await fetch("https://pokeapi.co/api/v2/pokemon/" + valorDoParametro);
        if (!response.ok) {
            throw new Error('Erro ao carregar os dados');
        }
        
        const dados = await response.json();
        imagem.src = dados.sprites.front_default;
        console.log(dados);

    } catch (error) {
        console.error('Ocorreu um erro ao buscar os dados da API:', error);
    }
}

executaApi();


</script>
</html>